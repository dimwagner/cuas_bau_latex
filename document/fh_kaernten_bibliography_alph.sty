% Diese Datei macht ein Inhaltsverzeichnis für den Anhang möglich
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{document/fh_kaernten_bibliography}[2017/11/18 FH-Kärnten Latex Style]



\usepackage[
backend			= biber, 		%% Hilfsprogramm "biber" (statt "biblatex" oder "bibtex")
%style			= authoryear, 	%% Zitierstil (siehe Dokumentation)
style			= alphabetic,	%% Alphabetische Reihenfolge der Liste im Literaturverzeichnis
%style			= iso-authoryear,
autolang		= other,		%% to support multiple languages in bibliography
maxalphanames 	= 4,
maxcitenames	= 1,  			%% Maximale Anzahl an genannten Autoren im Zitat-Verweis
mincitenames	= 1,
natbib			= true, 		%% Bereitstellen von natbib-kompatiblen Zitierkommandos
hyperref		= true, 		%% hyperref-Paket verwenden, um Links zu erstellen
%uniquelist		= false,
isbn          	= false, 		%% source: http://tex.stackexchange.com/a/23118/9075
bibencoding		= UTF8, 		%% this is necessary only if bibliography file is in different encoding than main document
]{biblatex}

\bibliography{Literaturverzeichnis}{}
\addbibresource{Literaturverzeichnis.bib}

%Eckige Klammern um Zitat-Verweis
\makeatletter

\newrobustcmd*{\parentexttrack}[1]{%
  \begingroup
  \blx@blxinit
  \blx@setsfcodes
  \blx@bibopenparen#1\blx@bibcloseparen
  \endgroup}

\AtEveryCite{%
  \let\parentext=\parentexttrack%
  \let\bibopenparen=\bibopenbracket%
  \let\bibcloseparen=\bibclosebracket}

\makeatother
\renewcommand*{\labelalphaothers}{}
\DefineBibliographyStrings{ngerman}{andothers={et\ al\adddot}} % aus u.a. zu et al. machen

\DeclareFieldFormat[phdthesis]{title}{#1} % keine Anführungszeichen um Titel bei allen Abschlussarbeiten

\renewcommand{\labelnamepunct}{\addcolon\space} % Doppelpunkt nach letztem Autor


\DeclareLabelalphaTemplate{
  \labelelement{
     \field[final]{shorthand}
    \field{label}
    % \field[strwidth=0,strside=left,ifnames=3-, namessep={\space}]{labelname}
    % \field[strwidth=0,strside=left,ifnames=2, namessep={\space und\space}]{labelname}
    \field[strwidth=20,strside=left,names=1]{labelname}
   }
  \labelelement{\literal{,\nobreakspace}}
  \labelelement{
   \field[strwidth=4,strside=right]{year}
  }
 }

% Eckige Klammer um Abrufdatum URL/DOI ohne Text (\bibstring{urlseen}\space)
\DeclareFieldFormat{urldate}{\mkbibbrackets{#1}}

  % Zitierung ohne eckige Klammern: Autor (Jahr) im Text: 
  \DeclareCiteCommand{\citeauthor}
  {\boolfalse{citetracker}%
   \boolfalse{pagetracker}%
   \usebibmacro{prenote}}
  {\ifciteindex
     {\indexnames{labelname}}
     {}%
   \printtext[bibhyperref]{\printnames{labelname}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}
  
\def\citeplain#1{\citeauthor{#1} (\citeyear{#1})}

\endinput

 